<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <title>
            Restaurant List 
        </title>
        <!--<link href="js/font-awesome/css/font-awesome.css" rel="stylesheet">-->
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.flatui.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/icons-extra.css"/>
        <script src="js/angular.js"></script>
        <script src="js/angular-locale_pt-br.js"></script>
        <script src="js/jquery-1.11.0.min.js"></script>
        <script src="js/jquery.mobile-1.4.2.min.js"></script>
        <script src="js/jquery.noty.packaged.min.js"></script>
        <script src="js/restaurant.js"></script>
    </head>
    <body>
        <div data-role="page">
            <div data-role="content" role="main" ng-app ng-controller="RestaurantController">
                <!-- MENU -->
                <div data-role="collapsible-set" data-theme="b" data-content-theme="b">
                    <div id="menu" data-role="collapsible" data-collapsed-icon="flat-menu" data-expanded-icon="flat-cross" data-collapsed="true">
                        <h3>Menu</h3>
                        <p></p>
                        <div ng-repeat="(id, item) in menu" data-role="collapsible" data-theme="d" data-collapsed-icon="flat-eye" data-expanded-icon="flat-cross" data-collapsed="true">
                            <h3>
                                <fieldset class="ui-grid-a">
                                    <div class="ui-block-a" >{{ item.name }}</div>
                                    <div class="ui-block-b">{{ item.price | currency }}</div>
                                </fieldset>
                            </h3>
                            <p>{{ item.description }}</p>
                        </div>
                    </div>
                </div>
                <!-- TABLES -->
                <div data-role="collapsible-set" data-theme="b" data-content-theme="b">
                    <div data-role="collapsible" data-collapsed-icon="flat-calendar" data-expanded-icon="flat-cross" data-collapsed="true">
                        <h3>Tables</h3>
                        <p></p>
                        <div ng-repeat="(mesa, pedidos) in orders" data-role="collapsible" data-collapsed-icon="flat-eye" data-expanded-icon="flat-cross" data-collapsed="true">
                            <h3>
                                <fieldset class="ui-block-a" style="width:30%;">
                                    <div class="ui-block-a extra-block-a">
                                        Mesa: {{ mesa }}
                                    </div>
                                    <div class="ui-block-b extra-block-a"> 
                                    </div>
                                </fieldset>
                                <fieldset class="ui-block-b">
                                    <div class="ui-block-b">
                                        <button data-theme="d" ng-click="total(mesa)">Ver Total</button>
                                    </div>
                                    <div class="ui-block-b"> 
                                        <button style="background: #2c3e50" ng-click="close(mesa)">Fechar Mesa</button>
                                    </div>
                                </fieldset>
                            </h3>
                            <ul data-role="listview" data-inset="true">
                                <li data-role="list-divider"  data-theme="a" ng-repeat="item in pedidos">
                                    <div style="text-align:left; float:left; width:20%">{{ $index + 1 }} - {{ menu[item.id].name }}</div>
                                    <div style="text-align:right; float:left; margin-left:20%; max-width:10%"> {{ item.quantity }} x {{ menu[item.id].price | currency }}</div>
                                    <div style="text-align: left;float:right">{{ menu[item.id].price * item.quantity | currency}}</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- ORDERS -->
                <div data-role="collapsible-set" data-theme="b" data-content-theme="b">
                    <div data-role="collapsible" data-collapsed-icon="flat-settings" data-expanded-icon="flat-cross" data-collapsed="false">
                        <h3>Orders</h3>
                        <p></p>
                        <div data-role="fieldcontain">
                            <select name="select-choice" id="select-choice-a" data-native-menu="false" data-theme="d" ng-model="mesa" ng-options="mesa for (mesa, pedidos) in orders">
                                <option value="">Selecione o menu:</option>
                            </select>
                            <select name="select-choice" id="select-choice-b" data-native-menu="false" data-theme="d" ng-model="item.description" ng-options="item.name for (id, item) in menu">
                                <option value="">Selecione o item:</option>
                            </select>
                        </div>
                    </div>
                               {{ item.name }}
                </div>
     
            </div>
        </div>
    </body>
</html>